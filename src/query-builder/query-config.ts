import { Term } from '../proto/ql2';

// [TermType, funcName, min arg number, max arg number (-1 = infinite), can have optional args]
// for operations directly under 'r' the max arg number can be increased by 1 since there is no `this`

export type TermConfig = [Term.TermType, string, number, number, boolean];

export const bracket: TermConfig = [Term.TermType.BRACKET, '', 1, 1, false];
export const funcall: TermConfig = [Term.TermType.FUNCALL, 'do', 1, -1, false];

export const termConfig: TermConfig[] = [
  [Term.TermType.UUID, 'uuid', 1, 1, false],
  [Term.TermType.HTTP, 'http', 1, 1, true],
  [Term.TermType.TABLE, 'table', 1, 1, true],
  [Term.TermType.GET, 'get', 1, 1, false],
  [Term.TermType.GET_ALL, 'getAll', 1, -1, true],
  [Term.TermType.EQ, 'eq', 1, -1, false],
  [Term.TermType.NE, 'ne', 1, -1, false],
  [Term.TermType.LT, 'lt', 1, -1, false],
  [Term.TermType.LE, 'le', 1, -1, false],
  [Term.TermType.GT, 'gt', 1, -1, false],
  [Term.TermType.GE, 'ge', 1, -1, false],
  [Term.TermType.NOT, 'not', 0, 0, false],
  [Term.TermType.ADD, 'add', 1, -1, false],
  [Term.TermType.SUB, 'sub', 1, -1, false],
  [Term.TermType.MUL, 'mul', 1, -1, false],
  [Term.TermType.DIV, 'div', 1, -1, false],
  [Term.TermType.MOD, 'mod', 1, -1, false],
  [Term.TermType.FLOOR, 'floor', 0, 0, false],
  [Term.TermType.CEIL, 'ceil', 0, 0, false],
  [Term.TermType.ROUND, 'round', 0, -1, false],
  [Term.TermType.APPEND, 'append', 0, 1, false],
  [Term.TermType.PREPEND, 'prepend', 0, 1, false],
  [Term.TermType.DIFFERENCE, 'difference', 1, 1, false],
  [Term.TermType.SET_INSERT, 'setInsert', 1, 1, false],
  [Term.TermType.SET_INTERSECTION, 'setIntersection', 1, 1, false],
  [Term.TermType.SET_UNION, 'setUnion', 1, 1, false],
  [Term.TermType.SET_DIFFERENCE, 'setDifference', 1, 1, false],
  [Term.TermType.SLICE, 'slice', 1, 2, true],
  [Term.TermType.SKIP, 'skip', 1, 1, false],
  [Term.TermType.LIMIT, 'limit', 1, 1, false],
  [Term.TermType.OFFSETS_OF, 'offsetsOf', 1, 1, false],
  [Term.TermType.CONTAINS, 'contains', 1, -1, false],
  [Term.TermType.GET_FIELD, 'getField', 1, 1, false],
  [Term.TermType.KEYS, 'keys', 0, 0, false],
  [Term.TermType.VALUES, 'values', 0, 0, false],
  [Term.TermType.HAS_FIELDS, 'hasFields', 1, -1, false],
  [Term.TermType.WITH_FIELDS, 'withFields', 1, -1, false],
  [Term.TermType.PLUCK, 'pluck', 1, -1, false],
  [Term.TermType.WITHOUT, 'without', 1, -1, false],
  [Term.TermType.MERGE, 'merge', 1, -1, false],
  [Term.TermType.BETWEEN, 'between', 2, 2, true],
  [Term.TermType.REDUCE, 'reduce', 1, 1, false],
  [Term.TermType.MAP, 'map', 1, -1, false],
  [Term.TermType.FOLD, 'fold', 2, 2, true],
  [Term.TermType.FILTER, 'filter', 1, 1, true],
  [Term.TermType.CONCAT_MAP, 'concatMap', 1, -1, false],
  [Term.TermType.ORDER_BY, 'orderBy', 0, -1, true],
  [Term.TermType.DISTINCT, 'distinct', 0, 0, true],
  [Term.TermType.COUNT, 'count', 0, 1, false],
  [Term.TermType.IS_EMPTY, 'isEmpty', 0, 0, false],
  [Term.TermType.UNION, 'union', 0, -1, true],
  [Term.TermType.NTH, 'nth', 1, 1, false],
  [Term.TermType.INNER_JOIN, 'innerJoin', 2, 2, false],
  [Term.TermType.OUTER_JOIN, 'outerJoin', 2, 2, false],
  [Term.TermType.EQ_JOIN, 'eqJoin', 2, 2, true],
  [Term.TermType.ZIP, 'zip', 0, 0, false],
  [Term.TermType.RANGE, 'range', 0, 2, false],
  [Term.TermType.INSERT_AT, 'insertAt', 2, 2, false],
  [Term.TermType.DELETE_AT, 'deleteAt', 2, 2, false],
  [Term.TermType.CHANGE_AT, 'changeAt', 2, 2, false],
  [Term.TermType.SPLICE_AT, 'spliceAt', 2, 2, false],
  [Term.TermType.COERCE_TO, 'coerceTo', 1, 1, false],
  [Term.TermType.TYPE_OF, 'typeOf', 0, 0, false],
  [Term.TermType.UPDATE, 'update', 1, 1, true],
  [Term.TermType.DELETE, 'delete', 0, 0, true],
  [Term.TermType.REPLACE, 'replace', 1, 1, true],
  [Term.TermType.INSERT, 'insert', 1, 1, true],
  [Term.TermType.TABLE_CREATE, 'tableCreate', 1, 1, true],
  [Term.TermType.TABLE_DROP, 'tableDrop', 1, 1, false],
  [Term.TermType.TABLE_LIST, 'tableList', 0, 0, false],
  [Term.TermType.CONFIG, 'config', 0, 0, false],
  [Term.TermType.STATUS, 'status', 0, 0, false],
  [Term.TermType.WAIT, 'wait', 0, 0, true],
  [Term.TermType.RECONFIGURE, 'reconfigure', 0, 0, true],
  [Term.TermType.REBALANCE, 'rebalance', 0, 0, false],
  [Term.TermType.SYNC, 'sync', 0, 0, false],
  [Term.TermType.GRANT, 'grant', 2, 2, false],
  [Term.TermType.INDEX_CREATE, 'indexCreate', 1, 2, true],
  [Term.TermType.INDEX_DROP, 'indexDrop', 1, 1, false],
  [Term.TermType.INDEX_LIST, 'indexList', 0, 0, false],
  [Term.TermType.INDEX_STATUS, 'indexStatus', 1, -1, false],
  [Term.TermType.INDEX_WAIT, 'indexWait', 1, -1, false],
  [Term.TermType.INDEX_RENAME, 'indexRename', 2, 2, true],
  [Term.TermType.BRANCH, 'branch', 2, -1, false],
  [Term.TermType.OR, 'or', 1, -1, false],
  [Term.TermType.AND, 'and', 1, -1, false],
  [Term.TermType.FOR_EACH, 'forEach', 1, 1, false],
  [Term.TermType.INFO, 'info', 0, 0, false],
  [Term.TermType.MATCH, 'match', 0, 0, false],
  [Term.TermType.UPCASE, 'upcase', 0, 0, false],
  [Term.TermType.DOWNCASE, 'downcase', 0, 0, false],
  [Term.TermType.SAMPLE, 'sample', 1, 1, false],
  [Term.TermType.DEFAULT, 'default', 1, 1, false],
  [Term.TermType.TO_ISO8601, 'toISO8601', 0, 0, false],
  [Term.TermType.TO_EPOCH_TIME, 'toEpochTime', 0, 0, false],
  [Term.TermType.IN_TIMEZONE, 'inTimezone', 1, 1, false],
  [Term.TermType.DURING, 'during', 2, 2, true],
  [Term.TermType.DATE, 'date', 0, 0, false],
  [Term.TermType.TIME_OF_DAY, 'timeOfDay', 0, 0, false],
  [Term.TermType.TIMEZONE, 'timezone', 0, 0, false],
  [Term.TermType.YEAR, 'year', 0, 0, false],
  [Term.TermType.MONTH, 'month', 0, 0, false],
  [Term.TermType.DAY, 'day', 0, 0, false],
  [Term.TermType.DAY_OF_WEEK, 'dayOfWeek', 0, 0, false],
  [Term.TermType.DAY_OF_YEAR, 'dayOfYear', 0, 0, false],
  [Term.TermType.HOURS, 'hours', 0, 0, false],
  [Term.TermType.MINUTES, 'minutes', 0, 0, false],
  [Term.TermType.SECONDS, 'seconds', 0, 0, false],
  [Term.TermType.GROUP, 'group', 0, -1, true],
  [Term.TermType.SUM, 'sum', 0, 1, false],
  [Term.TermType.AVG, 'avg', 0, 1, false],
  [Term.TermType.MIN, 'min', 0, 1, true],
  [Term.TermType.MAX, 'max', 0, 1, true],
  [Term.TermType.SPLIT, 'split', 1, 2, false],
  [Term.TermType.UNGROUP, 'ungroup', 0, 0, false],
  [Term.TermType.RANDOM, 'random', 0, 2, true],
  [Term.TermType.CHANGES, 'changes', 0, 0, true],
  [Term.TermType.GEOJSON, 'geojson', 1, 1, false],
  [Term.TermType.TO_GEOJSON, 'toGeojson', 0, 0, false],
  [Term.TermType.DISTANCE, 'distance', 2, 2, true],
  [Term.TermType.INTERSECTS, 'intersects', 2, 2, false],
  [Term.TermType.INCLUDES, 'includes', 1, 1, false],
  [Term.TermType.GET_INTERSECTING, 'getIntersecting', 1, 1, true],
  [Term.TermType.FILL, 'fill', 0, 0, false],
  [Term.TermType.GET_NEAREST, 'getNearest', 1, 1, true],
  [Term.TermType.POLYGON_SUB, 'polygonSub', 1, 1, false],
  [Term.TermType.TO_JSON_STRING, 'toJSON', 1, 1, false],
  [Term.TermType.TO_JSON_STRING, 'toJsonString', 1, 1, false]
  // not documented
  // [Term.TermType.SET_WRITE_HOOK, 'setWriteHook', -1, -1, true],
  // [Term.TermType.GET_WRITE_HOOK, 'getWriteHoot', -1, -1, true],
  // [Term.TermType.BIT_AND, 'bitAnd', -1, -1, true],
  // [Term.TermType.BIT_OR, 'bitOr', -1, -1, true],
  // [Term.TermType.BIT_XOR, 'bitXor', -1, -1, true],
  // [Term.TermType.BIT_NOT, 'bitNot', -1, -1, true],
  // [Term.TermType.BIT_SAL, 'bitShiftLeft', -1, -1, true],
  // [Term.TermType.BIT_SAR, 'bitShiftRight', -1, -1, true]
];

export const rConfig: TermConfig[] = [
  [Term.TermType.DB, 'db', 1, 1, false],
  [Term.TermType.DB_CREATE, 'dbCreate', 1, 1, false],
  [Term.TermType.DB_DROP, 'dbDrop', 1, 1, false],
  [Term.TermType.DB_LIST, 'dbList', 0, 0, false],
  [Term.TermType.TABLE, 'table', 1, 1, true],
  [Term.TermType.TABLE_CREATE, 'tableCreate', 1, 1, true],
  [Term.TermType.TABLE_DROP, 'tableDrop', 1, 1, false],
  [Term.TermType.TABLE_LIST, 'tableList', 0, 0, false],
  [Term.TermType.ASC, 'asc', 1, 1, false],
  [Term.TermType.DESC, 'desc', 1, 1, false],
  [Term.TermType.EPOCH_TIME, 'epochTime', 1, 1, false],
  [Term.TermType.NOW, 'now', 0, 0, false],
  [Term.TermType.BINARY, 'binary', 1, 1, false],
  [Term.TermType.ARGS, 'args', 1, 1, false],
  [Term.TermType.TIME, 'time', 4, 7, false],
  [Term.TermType.ISO8601, 'ISO8601', 1, 1, true],
  [Term.TermType.ERROR, 'error', 1, 1, false],
  [Term.TermType.JAVASCRIPT, 'js', 1, 1, true],
  [Term.TermType.JSON, 'json', 1, 1, false],
  [Term.TermType.POINT, 'point', 2, 2, false],
  [Term.TermType.LINE, 'line', 2, -1, false],
  [Term.TermType.POLYGON, 'polygon', 2, -1, false],
  [Term.TermType.CIRCLE, 'circle', 2, 2, true],
  [Term.TermType.LITERAL, 'literal', 0, 1, false],
  [Term.TermType.OBJECT, 'object', 1, -1, false]
];

export const rConsts: Array<[Term.TermType, string]> = [
  [Term.TermType.MINVAL, 'minval'],
  [Term.TermType.MAXVAL, 'maxval'],
  [Term.TermType.MONDAY, 'monday'],
  [Term.TermType.TUESDAY, 'tuesday'],
  [Term.TermType.WEDNESDAY, 'wednesday'],
  [Term.TermType.THURSDAY, 'thursday'],
  [Term.TermType.FRIDAY, 'friday'],
  [Term.TermType.SATURDAY, 'saturday'],
  [Term.TermType.SUNDAY, 'sunday'],
  [Term.TermType.JANUARY, 'january'],
  [Term.TermType.FEBRUARY, 'february'],
  [Term.TermType.MARCH, 'march'],
  [Term.TermType.APRIL, 'april'],
  [Term.TermType.MAY, 'may'],
  [Term.TermType.JUNE, 'june'],
  [Term.TermType.JULY, 'july'],
  [Term.TermType.AUGUST, 'august'],
  [Term.TermType.SEPTEMBER, 'september'],
  [Term.TermType.OCTOBER, 'october'],
  [Term.TermType.NOVEMBER, 'november'],
  [Term.TermType.DECEMBER, 'december']
];
